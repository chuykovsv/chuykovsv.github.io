{
    "name": "sh1",
    "vs": "precision highp float; uniform mat4 PM; uniform mat4 WM; uniform mat4 OM; attribute vec3 position; attribute vec3 normal; attribute vec2 uv; varying vec3 vNor; varying vec4 vPos; varying vec2 vUv; void main() { vNor = normalize(mat3(OM) * normal); vUv = uv; vPos = vec4(position, 1.0); gl_Position = PM * WM * vPos; }",
    "fs": "precision highp float; uniform vec3 color; uniform mat4 OM; uniform sampler2D tex; uniform sampler2D texn; varying vec3 vNor; varying vec4 vPos; varying vec2 vUv; void main() { vec3 pos = normalize(vPos.xyz); vec2 tc; tc.y = acos(pos.y) / 3.141592653; tc.x = atan(pos.z, pos.x) / 3.141592653 / 2.0; vec3 bnor = vec3(cos(tc.x * 3.141592653 * 2.0), 0.0, -sin(tc.x * 3.141592653 * 2.0)); bnor = mat3(OM) * bnor; vec3 light = normalize(vec3(1.0, 0.3, 0.0)); mat3 nn = mat3(bnor, cross(vNor, bnor), vNor); vec3 tnor = texture2D(texn, tc).rgb; tnor *= 2.0; tnor -= vec3(1.0); tnor = nn * tnor; vec3 acolor = texture2D(tex, tc).rgb * max(0.04, pow(max(0.0, dot(tnor, light)), 0.8)); gl_FragColor = vec4(acolor + vec3(vUv, 0.0) * 0.001 + color, 1.0); }"
}